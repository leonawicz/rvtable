<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to rvtable • rvtable</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rvtable</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rvtable.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/rvtable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to rvtable</h1>
                        <h4 class="author">Matthew Leonawicz</h4>
            
            <h4 class="date">2017-08-14</h4>
          </div>

    
    
<div class="contents">
<!-- rvtable.md is generated from rvtable.Rmd. Please edit that file -->
<p>The <code>rvtable</code> package provides a data frame-based object format and functionality for storing and manipulating random variables. The emphasis is on continuous random variables though discrete random variables are also handled. The <code>rvtable</code>-class object is a special type of data frame or data table that contains a column defining values representing or sampled from a probability distribution and a column of respective probabilities. Additional columns are ID columns and represent factors or categorical variables. While the package makes generous use of <code>dplyr</code>, <code>rvtable</code>-class objects also share the class, <code>data.table</code>, which is useful for efficiently working with large tables.</p>
<p>It is helpful to make the connection between operations performed by code and the probability concepts they parallel. The entirety of an rvtable as described above represents a joint probability distribution of the continuous random variable whose values and probabilities are represented by the values and probabilities columns and any categrorical variables whose levels propogate the ID columns.</p>
<p>Filtering rows of an rvtable to specific combinations of ID variable levels yields a subset of the original table that represents a conditional distribution of the continuous random variable. Similarly, integrating out, marginalizing over, or collapsing the table over the unique levels of an ID variable is analogous to calculating a marginal distribution of the continuous random variable.</p>
<p>This package offers a collection of functions that assist with manipulating tables of continuous random variables in these and other ways. There is a function for generating rvtables from different kinds of input data. An rvtable can be in probability distribution or sample form. This means that an rvtable will contain <code>Val</code> and <code>Prob</code> columns (default names) when representing a distribution, but only the <code>Val</code> column once sampled from. Form is tracked by object attributes. Functions available in the package offer seamless transitions between forms, carrying out various operations such as sampling from densities and marginalizing over levels of categorical variables in an rvtable. Users can maintain control over the resolution of the data via function arguments that correspond to any sampling or empirical density estimation steps that a function may perform.</p>
<p>This introduction covers the following topics:</p>
<ul>
<li>Create variuous rvtable objects.</li>
<li>Sample from a distribution-type rvtable, yielding a new, sample-type rvtable.</li>
<li>Compute marginal distributions on an rvtable.</li>
<li>Compute an inverse empirical probability mass function from an rvtable.</li>
</ul>
<div id="creating-rvtable-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-rvtable-objects" class="anchor"></a>Creating rvtable objects</h2>
<p>There are several ways to create an rvtable from the constructor function, <code>rvtable</code>. Below are examples of continuous and discrete random variables stored in rvtables. In the first example, the input, <code>x</code>, is simply a numeric vector representing a sample. If <code>density.args</code> is not specified, the defaults are those used by <code>density</code>. See the help documentation for <code>density</code> for details. The second call below limits the sample from <code>n=512</code> to <code>n=50</code> and smooths the distribution by setting <code>adjust=2</code>. We can also check to see if an object has the <code>rvtable</code> class.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rvtable)
<span class="co"># basic samples from continuous and discrete RVs</span>
x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)
<span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x)
<span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">density.args =</span> <span class="kw">list</span>(<span class="dt">n =</span> <span class="dv">50</span>, <span class="dt">adjust =</span> <span class="dv">2</span>))
<span class="kw"><a href="../reference/is.rvtable.html">is.rvtable</a></span>(<span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x))</code></pre></div>
<p>This reveals that when working with “continuous” random variables, the distribution is always discretized to some degree. When high fidelity is required, increase <code>n</code>. This is increasingly important when working with a long data manipulation chain requiring many iterations of density estimation or sampling, such as marginalizing over multiple categorical variables or if it is critical to maintain the shape of a multimodal distribution with high precision.</p>
<p>The default is to assume <code>x</code> is continuous. In the next case, it is more ambiguous. While all values in this example are clearly discrete integers, they are still treated as samples from a continuous probability distribution and will be modeled internally by <code>density</code> as such unless <code>discrete=TRUE</code>.</p>
<p>For discrete random variables, probabilities associated with values of <code>x</code> can be passed to <code>y</code>. Alternatively, <code>x</code> can be passed without <code>y</code> for the same purpose if <code>x</code> has the attribute <code>probabilities</code>. Note that in either case, it is no longer necessary to explicitly pass <code>discrete=TRUE</code>. The discrete nature of <code>x</code> is inferred either from its attributes or from <code>y</code>. When <code>x</code> is a numeric vector, <code>discrete=TRUE</code> is only required when probabilities are not passed by <code>y</code> or by <code>x</code> attributes and <code>x</code> is a basic unweighted sample (but possibly with repeating values). At any time use <code>attributes</code> to inspect the attributes of an rvtable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">10000</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">sqrt</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">1</span>))
<span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">discrete =</span> <span class="ot">TRUE</span>)  <span class="co"># required</span>
x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span>
probs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.15</span>, <span class="fl">0.25</span>)
<span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">y =</span> probs)  <span class="co"># discreteness inferred from y</span>
<span class="kw">attr</span>(x, <span class="st">"probabilities"</span>) &lt;-<span class="st"> </span>probs
rv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x)  <span class="co"># discreteness inferred from attributes</span>
rv
<span class="kw">attributes</span>(rv)</code></pre></div>
<p>Also note above that probabilities need not sum to one in the discrete case. They are relative weights and will be rescaled internally by <code>sample</code> rather than passed to <code>density</code> as is the case with continous random variables.</p>
<p>Increasingly the complexity of the input to <code>rvtable</code>, we arrive at the more common ways to constuct an rvtable: from and existing data frame or data table. First is a data frame of values with equal probability.</p>
<p>Note that by leaving out <code>discrete=TRUE</code> in the call to <code>rvtable</code> below, as with a numeric input, <code>x</code>, the data frame input is also assumed to represent a continuous random variable sample. It will be estimated as if a tiny sample from a uniform pdf rather than a fully represented uniform pmf.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Val =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">Prob =</span> <span class="fl">0.1</span>)
rv1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x)
rv1
<span class="kw">attributes</span>(rv1)
rv2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">discrete =</span> <span class="ot">TRUE</span>)
rv2
<span class="kw">attributes</span>(rv2)</code></pre></div>
<p>Lastly, we load the <code>data.table</code> package so we can make a data table instead of a data frame. It doesn’t change anything in terms of rvtables since the package always applies the <code>data.table</code> class. The key change here is the addition of an ID column, <code>id</code>, representing a categorical variable. The column names referring to values and their associated probabilities can also be changed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(data.table)
x &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">id =</span> <span class="kw">rep</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">each =</span> <span class="dv">10</span>), <span class="dt">v1 =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">2</span>), <span class="dt">p1 =</span> <span class="kw">c</span>(<span class="kw">c</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">1</span>)<span class="op">^</span><span class="dv">2</span>, 
    <span class="kw">sqrt</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)))
rv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">Val =</span> <span class="st">"v1"</span>, <span class="dt">Prob =</span> <span class="st">"p1"</span>)
rv
<span class="kw">attributes</span>(rv)</code></pre></div>
<p>In concluding, here are three important properites of <code>rvtable</code> worth being clear on:</p>
<ul>
<li>An rvtable is not created from a data frame or data table that contains a values column but no corresponding probabilities column, as can be done when x is a basic numeric samples vector.</li>
</ul>
<p>Creating an rvtable from an existing data frame or data table requires a distribution-type input. The user is required to provide a table with both columns.</p>
<ul>
<li><p><code>rvtable</code> always creates an rvtable in distribution form, regardless of input.</p></li>
<li><p><code>rvtable</code> ignores grouping.</p></li>
</ul>
<p>If you pass a data frame or data table whose rows have been grouped by any categorical variables, for example using <code><a href="http://dplyr.tidyverse.org/reference/group_by.html">dplyr::group_by</a></code>, this grouping information is ignored. Instead, <code>rvtable</code> forcibly groups by all categorical variables present in the input, regardless. It is reasonable to assume that any present categorical variables are already distinguishing different sets of values and probabilities in a table and it is not intended for the <code>rvtable</code> constructor to also apply any maginalizing operations. <code>rvtable</code> always separates all apparent combinations of ID variables’ levels.</p>
</div>
<div id="sampling-rvtables" class="section level2">
<h2 class="hasAnchor">
<a href="#sampling-rvtables" class="anchor"></a>Sampling rvtables</h2>
<p>Sampling on an rvtable requires a density-type rvtable. This is the more common form. Sampling results in a new rvtable object that is of sampling-type, meaning its <code>Val</code> column represents raw sample values and there is no corresponding <code>Prob</code> column of probabilities tied to values. This is the less common rvtable type and tends to be explicitly created and used at the end of a chain of data manipulation steps when it finally comes time to do something with the data such as plot it or pass samples to an analysis.</p>
<p>Sampling is done using <code>sample_rvtable</code>. Below, small samples are drawn from rvtables containing continous and discrete random variables, respectively.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># continuous RV</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>))
x
<span class="kw">attributes</span>(x)<span class="op">$</span>tabletype
y &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sample_rvtable.html">sample_rvtable</a></span>(x, <span class="dt">n =</span> <span class="dv">10</span>)
y
<span class="kw">attributes</span>(y)<span class="op">$</span>tabletype

<span class="co"># discrete RV</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">50</span>), <span class="dt">discrete =</span> <span class="ot">TRUE</span>)
y &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sample_rvtable.html">sample_rvtable</a></span>(x, <span class="dt">n =</span> <span class="dv">10</span>)
<span class="kw"><a href="../reference/sample_rvtable.html">sample_rvtable</a></span>(y, <span class="dt">n =</span> <span class="dv">8</span>, <span class="dt">resample =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>In the above example, the <code>tabletype</code> entry in the attributes of <code>y</code> is different from that in <code>x</code>. After sampling from the density-type rvtable, the resultant rvtable is in sample form. In the discrete example, <code>sample_rvtable</code> is called on an rvtable that is already in sample form. In this case samples are taken directly from the rvtable <code>Val</code> column unless <code>resample=TRUE</code>, which forces the additonal step of re-estimation of the pmf or pdf prior to resampling. This is especially useful in the continuous case when the user requires more control over the sampling distribution via <code>density.args</code> prior to resampling.</p>
<p>Returning to the data table from eariler, sampling is performed by group.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">id =</span> <span class="kw">rep</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">each =</span> <span class="dv">10</span>), <span class="dt">v1 =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">2</span>), <span class="dt">p1 =</span> <span class="kw">c</span>(<span class="kw">c</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">1</span>)<span class="op">^</span><span class="dv">2</span>, 
    <span class="kw">sqrt</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)))
rv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x, <span class="dt">Val =</span> <span class="st">"v1"</span>, <span class="dt">Prob =</span> <span class="st">"p1"</span>)
<span class="kw"><a href="../reference/sample_rvtable.html">sample_rvtable</a></span>(rv, <span class="dt">n =</span> <span class="dv">5</span>)</code></pre></div>
<p>Aside from <code>x</code>, other arguments to <code>sample_rvtable</code> include:</p>
<ul>
<li>
<code>resample</code> as described.</li>
<li>
<code>n</code>, the sample size.</li>
</ul>
<p>The sample size defaults to 10,000 because the typical context for the <code>rvtable</code> package is emprical estimation of continuous probability distributions with high-fidelity/flexibility. While sampling comes after density estimation, it is also helpful to retain larger samples if densities are subsequently re-estimated.</p>
<ul>
<li>
<code>interp</code>, which defaults to <code>TRUE</code>, applies linear interpolation between samples prior to sampling.</li>
<li>
<code>n.interp</code>, the sample size resulting from <code>interp=TRUE</code>, defaults to 100,000.</li>
<li>
<code>decimals</code> is available for rounding samples.</li>
<li>
<code>density.args</code> takes a list of arguments to pass to <code>density</code> to override defaults, just as in <code>rvtable</code>.</li>
</ul>
<p>Like the constructor, <code>rvtable</code>, <code>sample_rvtable</code> also forcibly applies its sampling to each identifiable group and does not acknowledge any existing grouping information that has been added to a table. For singling out or collapsing over ID variables, we turn to the next section.</p>
</div>
<div id="computing-marginal-distributions-on-rvtables" class="section level2">
<h2 class="hasAnchor">
<a href="#computing-marginal-distributions-on-rvtables" class="anchor"></a>Computing marginal distributions on rvtables</h2>
<p>There is not much to say about conditional distributions because this is relatively trivial. A conditional distribution of the random variable described by <code>Val</code> and <code>Prob</code> given, say, an ID variable being equal to one or some subset of some of its levels, is obtained by simply subsetting the rvtable to those rows.</p>
<p>On the other hand, marginalizing over levels of an ID variable to yield a marginal distribution of the random variable decribed by <code>Val</code> and <code>Prob</code>, is more complex. This is done with <code>marginalize</code>, which is a wrapper around <code>merge_rvtable</code>. While the latter is exported by the <code>rvtable</code> package and can make sense to use directly, it is typical to use <code>marginalize</code>, specifically.</p>
<p>Below, <code>marginalize</code> is used to collapse an rvtable by integrating out or marginalizing over categrorical variables. The <code>margin</code> argument describes which variables to marginalize over. In the first example, <code>marginalize</code> collapses the rvtable over the levels of <code>id1</code> and <code>id2</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">id1 =</span> <span class="kw">rep</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">each =</span> <span class="dv">4</span>), <span class="dt">id2 =</span> <span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"low"</span>, <span class="st">"high"</span>)), 
    <span class="dt">id3 =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">each =</span> <span class="dv">2</span>), <span class="dt">Val =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">each =</span> <span class="dv">20</span>), <span class="dt">Prob =</span> <span class="kw">rep</span>(<span class="kw">sqrt</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), 
        <span class="dt">each =</span> <span class="dv">20</span>))
rv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rvtable.html">rvtable</a></span>(x)
<span class="kw"><a href="../reference/marginalize.html">marginalize</a></span>(rv, <span class="dt">margin =</span> <span class="kw">c</span>(<span class="st">"id1"</span>, <span class="st">"id2"</span>))</code></pre></div>
<p><code>get_levels</code> can be used to quickly check the unique levels of an ID variable. Note that ID columns do not have to be of class <code>factor</code> to be treated as ID/categorical/factor variables, etc. Character vectors suffice.</p>
<p>A reason this is helpful is because when marginalizing over an ID variable, it is possible to pass a vector of weights or probabilities when integration should account for weighted samples. For example, an rvtable may have equal numbers of rows describing the probability distribution of a continuous random variable conditional on each of two ID variable levels. However, it may be known by the user that each of these levels do not contribute equally to the marginal distribution. Weights must be passed in the same orders as the levels returned by <code>get_levels</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_levels.html">get_levels</a></span>(rv, <span class="st">"id1"</span>)
<span class="kw"><a href="../reference/marginalize.html">marginalize</a></span>(rv, <span class="st">"id1"</span>, <span class="dt">weights =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">1</span>))</code></pre></div>
<p>When weights need to be specified, <code>marginalize</code> can only collapse over one ID variable at a time. If multiple variables must be integrated out, this can usually be done with a single call as shown, but when weights are supplied, then <code>marginalize</code> must be called successively. The current implementation of <code>marginalize</code> does not allow <code>weights</code> to take a list of weights vectors for each of multiple ID variables.</p>
</div>
<div id="computing-an-inverse-pmf" class="section level2">
<h2 class="hasAnchor">
<a href="#computing-an-inverse-pmf" class="anchor"></a>Computing an inverse pmf</h2>
<p>An inverse pmf can be computed using <code>inverse_pmf</code>. Continuing with the previous rvtable, we obtain the pdf of <code>id1</code> conditioned on a range of values of the continuous random variable described by the original rvtable as well as the other present factors. The <code>val</code> column is now categorical and takes on the levels associated with <code>id1</code> in the input.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/inverse_pmf.html">inverse_pmf</a></span>(rv, <span class="dt">val.range =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">8</span>), <span class="st">"id1"</span>)
y1

<span class="kw">library</span>(dplyr)
x2 &lt;-<span class="st"> </span><span class="kw">filter</span>(rv, id2 <span class="op">==</span><span class="st"> "low"</span> <span class="op">&amp;</span><span class="st"> </span>id3 <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>id2, <span class="op">-</span>id3) <span class="op">%&gt;%</span><span class="st"> </span>rvtable
y2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/inverse_pmf.html">inverse_pmf</a></span>(x2, <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">8</span>), <span class="st">"id1"</span>)
y2</code></pre></div>
<p>The difference between the two calls to <code>inverse_pmf</code> above is that in the second call, the rvtable has first been subset to one combination of levels of <code>id2</code> and <code>id3</code>. In both cases, the pmf of <code>id1</code> is conditional on values of <code>id2</code>, <code>id3</code> and the continuous rnadom variable represented by <code>Val</code> and <code>Prob</code> in the original rvtable; it is merely not including all levels of <code>id2</code> and <code>id3</code> in the second example.</p>
<p>For more information about the <code>rvtable</code> package, see the <a href="http://leonawicz.github.io/rvtable/">help documentation</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#creating-rvtable-objects">Creating rvtable objects</a></li>
      <li><a href="#sampling-rvtables">Sampling rvtables</a></li>
      <li><a href="#computing-marginal-distributions-on-rvtables">Computing marginal distributions on rvtables</a></li>
      <li><a href="#computing-an-inverse-pmf">Computing an inverse pmf</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matthew Leonawicz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
