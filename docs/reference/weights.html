<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ID Variable Level Weights — weights • rvtable</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="ID Variable Level Weights — weights" />

<meta property="og:description" content="Get or set ID variable level weights." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rvtable</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.6.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rvtable.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leonawicz/rvtable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ID Variable Level Weights</h1>
    <small>Source: <a href='https://github.com/leonawicz/rvtable/blob/master/R/weights.R'><code>R/weights.R</code></a></small>
    </div>

    
    <p>Get or set ID variable level weights.</p>
    

    <pre class="usage"><span class='fu'>get_levels</span>(<span class='no'>x</span>, <span class='no'>id</span>)

<span class='fu'>get_weights</span>(<span class='no'>x</span>, <span class='no'>id</span>)

<span class='fu'>set_weights</span>(<span class='no'>x</span>, <span class='no'>id</span>, <span class='no'>weights</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>rvtable.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>character, ID column name in <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>list, data frame, or <code>NULL</code>. See details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list for <code>get_weights</code> and <code>get_levels</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Weights are important for marginalizing distributions, when collapsing an rvtable over levels of an ID
variable must account for known unequal weighting of levels. Weights are strictly used by <code>marginalize</code>.</p>
<p><code>get_weights</code> get a list of 2-column data frames of levels and associated weights for ID variables in an rvtable.
<code>set_weights</code> sets weights for levels of ID variables in an rvtable.
Weights for levels of ID variables in an rvtable are assumed to be equal unless explicitly set otherwise.
They are usually set via <code>set_weights</code> but can also be set as part of a call to the <code>rvtable</code> constructor.</p>
<p>If <code>weights=NULL</code>, <code>id</code> is ignored and all ID variables' levels are set to equal weighting.
If <code>id</code> refers to a single ID variable in <code>x</code>, then <code>weights</code> can be a valid weights data frame.
In general, <code>weights</code> is a list of data frames corresponding to the variables specified <code>id</code>.
If <code>weights</code> is a named list, the named map to <code>id</code>. If unnamed, they must be provided in the same order as <code>id</code>.
Equal weights are set for an individual ID variable's levels
when a list element in <code>weights</code> correpsonding to an <code>id</code> value is <code>NULL</code>.</p>
<p><code>get_levels</code> returns a list of levels for ID variables in <code>x</code>, a subset of the information returned by <code>get_weights</code>
When an rvtable contains no ID variables, there are no levels or weights.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rvtable.html'>rvtable</a></span>(<span class='fu'>data.frame</span>(
  <span class='kw'>id1</span><span class='kw'>=</span><span class='fu'>rep</span>(<span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>5</span>], <span class='kw'>each</span><span class='kw'>=</span><span class='fl'>4</span>),
  <span class='kw'>id2</span><span class='kw'>=</span><span class='fu'>factor</span>(<span class='fu'>c</span>(<span class='st'>"low"</span>, <span class='st'>"high"</span>)),
  <span class='kw'>id3</span><span class='kw'>=</span><span class='fu'>rep</span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>each</span><span class='kw'>=</span><span class='fl'>2</span>),
  <span class='kw'>Val</span><span class='kw'>=</span><span class='fu'>rep</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='kw'>each</span><span class='kw'>=</span><span class='fl'>20</span>), <span class='kw'>Prob</span><span class='kw'>=</span><span class='fu'>rep</span>(<span class='fu'>sqrt</span>(<span class='fl'>1</span>:<span class='fl'>10</span>), <span class='kw'>each</span><span class='kw'>=</span><span class='fl'>20</span>)))
<span class='fu'>get_levels</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; $id1
#&gt; [1] "A" "B" "C" "D" "E"
#&gt; 
#&gt; $id2
#&gt; [1] "high" "low" 
#&gt; 
#&gt; $id3
#&gt; [1] 1 2
#&gt; </div><div class='input'><span class='fu'>get_weights</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; $id1
#&gt; # A tibble: 5 x 2
#&gt;   levels weights
#&gt;   &lt;chr&gt;    &lt;dbl&gt;
#&gt; 1 A         1.00
#&gt; 2 B         1.00
#&gt; 3 C         1.00
#&gt; 4 D         1.00
#&gt; 5 E         1.00
#&gt; 
#&gt; $id2
#&gt; # A tibble: 2 x 2
#&gt;   levels weights
#&gt;   &lt;chr&gt;    &lt;dbl&gt;
#&gt; 1 high      1.00
#&gt; 2 low       1.00
#&gt; 
#&gt; $id3
#&gt; # A tibble: 2 x 2
#&gt;   levels weights
#&gt;    &lt;int&gt;   &lt;dbl&gt;
#&gt; 1      1    1.00
#&gt; 2      2    1.00
#&gt; </div><div class='input'><span class='fu'>get_weights</span>(<span class='no'>x</span>, <span class='st'>"id1"</span>)</div><div class='output co'>#&gt; $id1
#&gt; # A tibble: 5 x 2
#&gt;   levels weights
#&gt;   &lt;chr&gt;    &lt;dbl&gt;
#&gt; 1 A         1.00
#&gt; 2 B         1.00
#&gt; 3 C         1.00
#&gt; 4 D         1.00
#&gt; 5 E         1.00
#&gt; </div><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>set_weights</span>(<span class='no'>x</span>, <span class='st'>"id1"</span>, <span class='fu'>data.frame</span>(<span class='kw'>levels</span><span class='kw'>=</span><span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>5</span>], <span class='kw'>weights</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>5</span>))
<span class='fu'>get_weights</span>(<span class='no'>x</span>, <span class='fu'>c</span>(<span class='st'>"id1"</span>, <span class='st'>"id3"</span>))</div><div class='output co'>#&gt; $id1
#&gt;   levels weights
#&gt; 1      A       1
#&gt; 2      B       2
#&gt; 3      C       3
#&gt; 4      D       4
#&gt; 5      E       5
#&gt; 
#&gt; $id3
#&gt; # A tibble: 2 x 2
#&gt;   levels weights
#&gt;    &lt;int&gt;   &lt;dbl&gt;
#&gt; 1      1    1.00
#&gt; 2      2    1.00
#&gt; </div><div class='input'><span class='no'>wts</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>levels</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>weights</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.3</span>, <span class='fl'>0.7</span>))
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>set_weights</span>(<span class='no'>x</span>, <span class='fu'>c</span>(<span class='st'>"id1"</span>, <span class='st'>"id3"</span>), <span class='fu'>list</span>(<span class='kw'>id1</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>id3</span><span class='kw'>=</span><span class='no'>wts</span>))
<span class='fu'>get_weights</span>(<span class='no'>x</span>, <span class='fu'>c</span>(<span class='st'>"id1"</span>, <span class='st'>"id3"</span>))</div><div class='output co'>#&gt; $id1
#&gt; # A tibble: 5 x 2
#&gt;   levels weights
#&gt;   &lt;chr&gt;    &lt;dbl&gt;
#&gt; 1 A         1.00
#&gt; 2 B         1.00
#&gt; 3 C         1.00
#&gt; 4 D         1.00
#&gt; 5 E         1.00
#&gt; 
#&gt; $id3
#&gt;   levels weights
#&gt; 1      1     0.3
#&gt; 2      2     0.7
#&gt; </div><div class='input'><span class='no'>wts</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>levels</span><span class='kw'>=</span><span class='fu'>levels</span>(<span class='no'>x</span>$<span class='no'>id2</span>), <span class='kw'>weights</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>2</span>, <span class='fl'>1</span>))
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>set_weights</span>(<span class='no'>x</span>, <span class='fu'>c</span>(<span class='st'>"id1"</span>, <span class='st'>"id2"</span>), <span class='fu'>list</span>(<span class='kw'>NULL</span>, <span class='no'>wts</span>))
<span class='fu'>get_weights</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; $id1
#&gt; # A tibble: 5 x 2
#&gt;   levels weights
#&gt;   &lt;chr&gt;    &lt;dbl&gt;
#&gt; 1 A         1.00
#&gt; 2 B         1.00
#&gt; 3 C         1.00
#&gt; 4 D         1.00
#&gt; 5 E         1.00
#&gt; 
#&gt; $id2
#&gt;   levels weights
#&gt; 1   high       2
#&gt; 2    low       1
#&gt; 
#&gt; $id3
#&gt;   levels weights
#&gt; 1      1     0.3
#&gt; 2      2     0.7
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Matthew Leonawicz, Scenarios Network for Alaska and Arctic Planning.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

